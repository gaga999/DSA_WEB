(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{1904:(e,t,h)=>{"use strict";h.r(t),h.d(t,{default:()=>n});var i=h(5155),s=h(2115);class a{toJSON(){return{heap:this.heap,steps:this.steps}}static fromJSON(e){let t=new a;return t.heap=e.heap||[0],t.steps=e.steps||[],t}getLevel(e){return Math.floor(Math.log2(e))}isMinLevel(e){return this.getLevel(e)%2==0}parent(e){return Math.floor(e/2)}leftChild(e){return 2*e}rightChild(e){return 2*e+1}grandparent(e){return this.parent(this.parent(e))}clear(){this.heap=[0],this.steps=[]}insert(e){this.steps=[],this.heap.push(e);let t=this.heap.length-1;return this.steps.push({heap:[...this.heap],highlight:[t],description:"Inserted ".concat(e," at index ").concat(t)}),this.pushUp(t),this.steps.push({heap:[...this.heap],highlight:null,description:"finish"}),this.steps}deleteMin(){if(this.steps=[],this.heap.length<=1)return this.steps.push({heap:[0],highlight:null,description:"Heap is empty, nothing to delete"}),this.steps.push({heap:[...this.heap],highlight:null,description:"finish"}),this.steps;if(2===this.heap.length){let e=this.heap.pop();return this.steps.push({heap:[...this.heap],highlight:null,description:"Removed only element ".concat(e)}),this.steps.push({heap:[...this.heap],highlight:null,description:"finish"}),this.steps}let e=this.heap.length-1;return this.heap[1]=this.heap[e],this.heap.pop(),this.steps.push({heap:[...this.heap],highlight:[1,e],description:"Moved last element ".concat(this.heap[1]," from index ").concat(e," to root (index 1)")}),this.pushDown(1),this.steps.push({heap:[...this.heap],highlight:null,description:"finish"}),this.steps}deleteMax(){if(this.steps=[],this.heap.length<=1)return this.steps.push({heap:[0],highlight:null,description:"Heap is empty, nothing to delete"}),this.steps.push({heap:[...this.heap],highlight:null,description:"finish"}),this.steps;if(2===this.heap.length){let e=this.heap.pop();return this.steps.push({heap:[...this.heap],highlight:null,description:"Removed only element ".concat(e)}),this.steps.push({heap:[...this.heap],highlight:null,description:"finish"}),this.steps}let e=this.heap[2]>(this.heap[3]||-1/0)?2:3,t=this.heap[e],h=this.heap.length-1;return(this.steps.push({heap:[...this.heap],highlight:[e],description:"Selected max element ".concat(t," at index ").concat(e)}),this.heap.length<=4)?(e===h?(this.heap.pop(),this.steps.push({heap:[...this.heap],highlight:null,description:"Removed element ".concat(t," at index ").concat(e)})):(this.heap[e]=this.heap[h],this.heap.pop(),this.steps.push({heap:[...this.heap],highlight:[e,h],description:"Moved last element ".concat(this.heap[e]," from index ").concat(h," to index ").concat(e)})),this.steps.push({heap:[...this.heap],highlight:null,description:"finish"})):(this.heap[e]=this.heap[h],this.heap.pop(),this.steps.push({heap:[...this.heap],highlight:[e,h],description:"Moved last element ".concat(this.heap[e]," from index ").concat(h," to index ").concat(e)}),this.pushDown(e)),this.steps}getHeap(){return[...this.heap]}getSmallestDescendant(e){let t=e,h=1/0,i=this.leftChild(e),s=this.rightChild(e);for(let e of(i<this.heap.length&&this.heap[i]<h&&(t=i,h=this.heap[i]),s<this.heap.length&&this.heap[s]<h&&(t=s,h=this.heap[s]),[this.leftChild(i),this.rightChild(i),this.leftChild(s),this.rightChild(s)].filter(e=>e<this.heap.length)))this.heap[e]<h&&(t=e,h=this.heap[e]);return t}getLargestDescendant(e){let t=e,h=-1/0,i=this.leftChild(e),s=this.rightChild(e);for(let e of(i<this.heap.length&&this.heap[i]>h&&(t=i,h=this.heap[i]),s<this.heap.length&&this.heap[s]>h&&(t=s,h=this.heap[s]),[this.leftChild(i),this.rightChild(i),this.leftChild(s),this.rightChild(s)].filter(e=>e<this.heap.length)))this.heap[e]>h&&(t=e,h=this.heap[e]);return t}pushDown(e){if(this.isMinLevel(e)){let t=this.getSmallestDescendant(e);if(t!==e)if(this.steps.push({heap:[...this.heap],highlight:[e,t],description:"Comparing ".concat(this.heap[e]," (min level, index ").concat(e,") with smallest descendant ").concat(this.heap[t]," (index ").concat(t,")")}),this.heap[t]<this.heap[e])if(this.getLevel(t)-this.getLevel(e)==2){this.swap(e,t),this.steps.push({heap:[...this.heap],highlight:null,description:"Swapped ".concat(this.heap[t]," with ").concat(this.heap[e])});let h=this.parent(t);this.steps.push({heap:[...this.heap],highlight:[t,h],description:"Comparing ".concat(this.heap[t]," (min level, index ").concat(t,") with parent ").concat(this.heap[h]," (max level, index ").concat(h,")")}),this.heap[t]>this.heap[h]?(this.swap(t,h),this.steps.push({heap:[...this.heap],highlight:null,description:"Swapped ".concat(this.heap[h]," with ").concat(this.heap[t])})):this.steps.push({heap:[...this.heap],highlight:null,description:"No swap needed"}),this.pushDown(t)}else this.swap(e,t),this.steps.push({heap:[...this.heap],highlight:null,description:"Swapped ".concat(this.heap[t]," with ").concat(this.heap[e])});else this.steps.push({heap:[...this.heap],highlight:null,description:"No swap needed"})}else{let t=this.getLargestDescendant(e);if(t===e)return;if(this.steps.push({heap:[...this.heap],highlight:[e,t],description:"Comparing ".concat(this.heap[e]," (max level, index ").concat(e,") with largest descendant ").concat(this.heap[t]," (index ").concat(t,")")}),this.heap[t]>this.heap[e])if(this.getLevel(t)-this.getLevel(e)==2){this.swap(e,t),this.steps.push({heap:[...this.heap],highlight:null,description:"Swapped ".concat(this.heap[t]," with ").concat(this.heap[e])});let h=this.parent(t);this.steps.push({heap:[...this.heap],highlight:[t,h],description:"Comparing ".concat(this.heap[t]," (max level, index ").concat(t,") with parent ").concat(this.heap[h]," (min level, index ").concat(h,")")}),this.heap[t]<this.heap[h]?(this.swap(t,h),this.steps.push({heap:[...this.heap],highlight:null,description:"Swapped ".concat(this.heap[h]," with ").concat(this.heap[t])})):this.steps.push({heap:[...this.heap],highlight:null,description:"No swap needed"}),this.pushDown(t)}else this.swap(e,t),this.steps.push({heap:[...this.heap],highlight:null,description:"Swapped ".concat(this.heap[t]," with ").concat(this.heap[e])});else this.steps.push({heap:[...this.heap],highlight:null,description:"No swap needed"})}}pushUp(e){if(e<=1)return;let t=this.parent(e);this.steps.push({heap:[...this.heap],highlight:[e,t],description:"Comparing ".concat(this.heap[e]," (index ").concat(e,") with parent ").concat(this.heap[t]," (").concat(this.isMinLevel(t)?"min":"max"," level, index ").concat(t,")")}),this.isMinLevel(e)?this.heap[e]>this.heap[t]?(this.swap(e,t),this.steps.push({heap:[...this.heap],highlight:null,description:"Swapped ".concat(this.heap[t]," with ").concat(this.heap[e])}),this.pushUpMax(t)):(this.steps.push({heap:[...this.heap],highlight:null,description:"No swap needed"}),this.pushUpMin(e)):this.heap[e]<this.heap[t]?(this.swap(e,t),this.steps.push({heap:[...this.heap],highlight:null,description:"Swapped ".concat(this.heap[t]," with ").concat(this.heap[e])}),this.pushUpMin(t)):(this.steps.push({heap:[...this.heap],highlight:null,description:"No swap needed"}),this.pushUpMax(e))}pushUpMin(e){let t=this.grandparent(e);t>=1&&(this.steps.push({heap:[...this.heap],highlight:[e,t],description:"Comparing ".concat(this.heap[e]," (min level, index ").concat(e,") with grandparent ").concat(this.heap[t]," (min level, index ").concat(t,")")}),this.heap[e]<this.heap[t]?(this.swap(e,t),this.steps.push({heap:[...this.heap],highlight:null,description:"Swapped ".concat(this.heap[t]," with ").concat(this.heap[e])}),this.pushUpMin(t)):this.steps.push({heap:[...this.heap],highlight:null,description:"No swap needed"}))}pushUpMax(e){let t=this.grandparent(e);t>=1&&(this.steps.push({heap:[...this.heap],highlight:[e,t],description:"Comparing ".concat(this.heap[e]," (max level, index ").concat(e,") with grandparent ").concat(this.heap[t]," (max level, index ").concat(t,")")}),this.heap[e]>this.heap[t]?(this.swap(e,t),this.steps.push({heap:[...this.heap],highlight:null,description:"Swapped ".concat(this.heap[t]," with ").concat(this.heap[e])}),this.pushUpMax(t)):this.steps.push({heap:[...this.heap],highlight:null,description:"No swap needed"}))}swap(e,t){[this.heap[e],this.heap[t]]=[this.heap[t],this.heap[e]]}constructor(){this.heap=[0],this.steps=[]}}let p=e=>{let{inputValue:t,clearInput:h}=e,[p,n]=(0,s.useState)(new a),[l,o]=(0,s.useState)([]),[c,r]=(0,s.useState)(0),[d,g]=(0,s.useState)([0]),[u,x]=(0,s.useState)(null),[m,w]=(0,s.useState)(""),[f,v]=(0,s.useState)(!1);s.useEffect(()=>{try{let e=localStorage.getItem("heapState");if(e){let t=JSON.parse(e);t.heap&&n(a.fromJSON(t.heap)),t.steps&&o(t.steps),void 0!==t.currentStep&&r(t.currentStep),t.heapArray&&g(t.heapArray),void 0!==t.highlight&&x(t.highlight),void 0!==t.description&&w(t.description),void 0!==t.isPlaying&&v(t.isPlaying)}}catch(e){console.warn("Failed to parse heapState from localStorage:",e)}},[]),(0,s.useEffect)(()=>{localStorage.setItem("heapState",JSON.stringify({heap:p.toJSON(),steps:l,currentStep:c,heapArray:d,highlight:u,description:m,isPlaying:f}))},[p,l,c,d,u,m,f]);let b=()=>{if(l.length>0&&c<l.length-1){let e=c+1;r(e),g(l[e].heap),x(l[e].highlight),w(l[e].description)}};return(0,s.useEffect)(()=>{if(!f)return;if(0===l.length||c>=l.length-1)return void v(!1);let e=setTimeout(()=>{b()},1e3);return()=>clearTimeout(e)},[f,c,l]),(0,i.jsxs)("div",{className:"flex flex-col items-center",children:[(0,i.jsx)("div",{className:"mb-4 flex space-x-2",children:l.length>0&&c<l.length-1?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("button",{onClick:()=>v(!f),className:"px-4 py-2 rounded text-white ".concat(f?"bg-red-600 hover:bg-red-700":"bg-green-600 hover:bg-green-700"),children:f?"Pause":"Play"}),(0,i.jsx)("button",{onClick:()=>{if(l.length>0&&c>0){let e=c-1;r(e),g(l[e].heap),x(l[e].highlight),w(l[e].description)}},disabled:c<=0,className:"px-4 py-2 rounded text-white bg-purple-600 hover:bg-purple-700 ".concat(c<=0?"opacity-50 cursor-not-allowed":""),children:"Previous"}),(0,i.jsx)("button",{onClick:b,disabled:c>=l.length-1,className:"px-4 py-2 rounded text-white bg-blue-600 hover:bg-blue-700 ".concat(c>=l.length-1?"opacity-50 cursor-not-allowed":""),children:"Next"}),(0,i.jsx)("button",{onClick:()=>{if(l.length>0){let e=l.length-1;r(e),g(l[e].heap),x(l[e].highlight),w(l[e].description),v(!1)}},className:"bg-amber-600 text-white px-4 py-2 rounded hover:bg-amber-700",children:"Skip to Result"})]}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("button",{onClick:()=>{let e=parseInt(t);if(!isNaN(e)){var i,s,a;let t=p.insert(e);o(t),r(0),g((null==(i=t[0])?void 0:i.heap)||[0]),x((null==(s=t[0])?void 0:s.highlight)||null),w((null==(a=t[0])?void 0:a.description)||""),v(!0),h()}},className:"bg-green-600 text-white px-4 py-2 rounded hover:bg-green-700",children:"Insert"}),(0,i.jsx)("button",{onClick:()=>{var e,t,h;let i=p.deleteMin();o(i),r(0),g((null==(e=i[0])?void 0:e.heap)||[0]),x((null==(t=i[0])?void 0:t.highlight)||null),w((null==(h=i[0])?void 0:h.description)||""),v(!0)},className:"bg-purple-600 text-white px-4 py-2 rounded hover:bg-purple-700",children:"Delete Min"}),(0,i.jsx)("button",{onClick:()=>{var e,t,h;let i=p.deleteMax();o(i),r(0),g((null==(e=i[0])?void 0:e.heap)||[0]),x((null==(t=i[0])?void 0:t.highlight)||null),w((null==(h=i[0])?void 0:h.description)||""),v(!0)},className:"bg-rose-600 text-white px-4 py-2 rounded hover:bg-rose-700",children:"Delete Max"}),(0,i.jsx)("button",{onClick:()=>{l.length>1&&(r(0),g(l[0].heap),x(l[0].highlight),w(l[0].description),v(!0))},disabled:l.length<=1,className:"px-4 py-2 rounded text-white bg-blue-600 hover:bg-blue-700 ".concat(l.length<=1?"opacity-50 cursor-not-allowed":""),children:"Go Back"}),(0,i.jsx)("button",{onClick:()=>{p.clear(),o([]),r(0),g([0]),x(null),w(""),v(!1)},className:"bg-slate-600 text-white px-4 py-2 rounded hover:bg-slate-700",children:"Reset"})]})}),(0,i.jsx)("div",{className:"border p-4 bg-gray-200 rounded shadow",children:(()=>{if(d.length<=1)return(0,i.jsxs)("div",{style:{overflowX:"auto",backgroundColor:"#f3f4f6",width:"85vw",maxWidth:"100vw",height:"55vh",maxHeight:"100vh"},children:[(0,i.jsx)("p",{className:"text-gray-700 text-center text-lg",children:"Heap is empty"}),";"]});let e=[],t=[],h=Math.floor(Math.log2(d.length-1)),s=d.length-Math.pow(2,h),a=(Math.max(Math.pow(2,h),s)+.5)*120,p=(Math.floor(Math.log2(d.length))+1)*140,n=e=>{let t=Math.floor(Math.log2(e)),h=e-Math.pow(2,t);return{x:(a-60)/Math.pow(2,t+1)*(2*h+1)+30,y:(t+.5)*140}},l=e=>Math.floor(Math.log2(e))%2==0;for(let h=1;h<d.length;h++){let{x:s,y:a}=n(h),p=u&&u.includes(h)?"#84CC16":l(h)?"#3B82F6":"#F25555";e.push((0,i.jsxs)("g",{children:[(0,i.jsx)("title",{children:d[h]}),(0,i.jsx)("circle",{cx:s,cy:a,r:40,fill:p,stroke:"#1F2937",strokeWidth:"2"}),(0,i.jsx)("text",{x:s,y:a+5,textAnchor:"middle",fill:"white",fontSize:"20",children:String(d[h]).length>7?d[h].toExponential(2):d[h]})]},h));let o=2*h,c=2*h+1;if(o<d.length){let e=n(o);t.push((0,i.jsx)("line",{x1:s,y1:a+40,x2:e.x,y2:e.y-40,stroke:"#1F2937",strokeWidth:"2"},"line-".concat(h,"-left")))}if(c<d.length){let e=n(c);t.push((0,i.jsx)("line",{x1:s,y1:a+40,x2:e.x,y2:e.y-40,stroke:"#1F2937",strokeWidth:"2"},"line-".concat(h,"-right")))}}return(0,i.jsx)("div",{style:{overflowX:"auto",backgroundColor:"#e5e7eb",width:"90vw",maxWidth:"100vw",height:"60vh",maxHeight:"100vh"},children:(0,i.jsxs)("svg",{width:"100%",height:"100%",viewBox:"0 0 ".concat(a," ").concat(p),preserveAspectRatio:"xMidYMid meet",style:{display:"block",margin:"0 auto",backgroundColor:"#e5e7eb",minWidth:"".concat(a/1.5,"px"),maxWidth:"".concat(1.5*a,"px"),minHeight:"".concat(p/1.5,"px"),maxHeight:"".concat(1.5*p,"px")},children:[t,e]})})})()}),(0,i.jsx)("p",{className:"mt-4 text-2xl text-gray-700",children:m})]})};function n(){let[e,t]=(0,s.useState)("");return(0,i.jsxs)("div",{className:"min-h-screen bg-gray-100 flex flex-col items-center justify-center p-4",children:[(0,i.jsx)("h1",{className:"text-4xl font-bold text-gray-900",children:"Min-Max Heap Visualization"}),(0,i.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"(1-based, Even Layers Min, Odd Layers Max)"}),(0,i.jsx)("div",{className:"mb-4",children:(0,i.jsx)("input",{type:"number",value:e,onChange:e=>t(e.target.value),placeholder:"Enter a number",className:"border-2 border-gray-300 bg-white text-gray-900 p-2 rounded mr-2 focus:ring-blue-500"})}),(0,i.jsx)(p,{inputValue:e,clearInput:()=>t("")})]})}},2750:(e,t,h)=>{Promise.resolve().then(h.bind(h,1904))}},e=>{var t=t=>e(e.s=t);e.O(0,[441,684,358],()=>t(2750)),_N_E=e.O()}]);